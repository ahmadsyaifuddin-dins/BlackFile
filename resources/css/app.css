/*
|--------------------------------------------------------------------------
| Tailwind CSS v4 Import
|--------------------------------------------------------------------------
|
| Menggunakan @import 'tailwindcss' sesuai dengan standar Tailwind v4.
| Semua konfigurasi, termasuk path file untuk pemindaian kelas,
| sekarang ditangani langsung di dalam file `vite.config.js`.
|
*/
@import '@fortawesome/fontawesome-free/css/all.css';
@import 'tailwindcss';

/* BAGIAN 1: TEMA DASAR & KONFIGURASI VARIABEL */

@layer base {
    /*
    | Definisi Tema Warna
    */
    :root { /* Tema Default: Green Phosphorus */
        --color-base: #0d1117;
        --color-surface: #161b22;
        --color-surface-light: #21262d;
        --color-primary: #2ea043;
        --color-primary-hover: #36d351;
        --border-color-primary: #2ea043;
        --border-primary-hover: #36d351;
        --color-secondary: #8b949e;
        --color-border: #30363d;
        --color-text-default: var(--color-secondary);
        --font-default: "Roboto Mono", monospace; 
        
        --checkbox-icon: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
        --radio-icon: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='8' cy='8' r='3'/%3e%3c/svg%3e");
        
        --btn-primary-text: #000000; /* Hitam untuk tema hijau */
        --btn-outline-text: var(--color-primary);
        --btn-secondary-text: var(--color-text-default);
    }

    /* Definisi untuk tema Amber Fallout */
    body[data-theme='amber'] {
        --color-primary: #ffb86c;
        --color-primary-hover: #f1fa8c;
        --border-color-primary: #ffb86c;
        --border-primary-hover: #f1fa8c;
    }

    /* Definisi untuk tema Arctic Blue */
    body[data-theme='arctic'] {
        --color-primary: #8be9fd;
        --color-primary-hover: #a4ffff;
        --border-color-primary: #8be9fd;
        --border-primary-hover: #a4ffff;
    }

    /* Definisi untuk tema Code Red */
    body[data-theme='red'] {
        --color-primary: #ff5555;
        --color-primary-hover: #ff6e67;
        --border-color-primary: #ff5555;
        --border-primary-hover: #ff6e67;
    }

    /* ... sisa kode CSS Anda (html, body, .text-primary, dll.) tetap sama ... */
    html, body {
        background-color: var(--color-base);
        color: var(--color-text-default);
        font-family: var(--font-default);
        transition: color 0.3s, background-color 0.3s; /* Transisi halus saat tema berubah */
    }

    /*
    | Kelas Warna Kustom
    |
    */
    .text-primary {
        color: var(--color-primary);
    }

    .text-primary-hover:hover {
        color: var(--color-primary-hover);
    }

    .border-primary {
        border-color: var(--border-color-primary);
    }

    .border-primary-hover:hover {
        border-color: var(--border-primary-hover);
    }

    .bg-primary {
        background-color: var(--color-primary);
    }

    .bg-primary-hover:hover {
        background-color: var(--color-primary-hover);
    }

    input[type="file"]::file-selector-button {
        background-color: var(--color-primary);
    }
    
    input[type="file"]::file-selector-button:hover {
        background-color: var(--color-primary-hover);
    }

    [x-cloak] {
        display: none !important;
    }

    /*
    | Tema Terminal Khusus
    */
    .theme-terminal {
        background-color: #000000;
        background-image: radial-gradient(#11581efa, #041607), url("https://media.giphy.com/media/oEI9uBYSzLpBK/giphy.gif");
        background-size: cover;
        font-family: 'Inconsolata', monospace;
    }
}

/* BAGIAN 2: KOMPONEN CUSTOM */
@layer components {
    .form-input-dark {
        @apply w-full bg-gray-800 border border-gray-600 rounded-md text-gray-300 focus:ring-green-500 focus:border-green-500;
    }

    .highlighted {
        min-zoomed-font-size: 12px;
        font-weight: bold;
        background-color: var(--color-primary);
        border-color: #fff;
        border-width: 2px;
        z-index: 9999;
    }

    .faded {
        opacity: 0.25;
    }

    /* Form Input & Select Styles */
    .form-control {
        @apply w-full bg-[var(--color-base)] border-2 border-[var(--color-border)] text-white px-3 py-2;
        @apply font-mono transition-colors duration-200;
        @apply placeholder-gray-600;
        @apply focus:outline-none focus:border-[var(--color-primary)] focus:ring-1 focus:ring-[var(--color-primary)];
    }

    /* Style khusus untuk dropdown options */
    .form-select-dropdown {
        @apply absolute z-50 mt-1 w-full max-h-60 overflow-y-auto bg-black border border-[var(--border-color-primary)] shadow-lg shadow-[var(--color-primary)]/10;
    }

    .form-select-option {
        @apply block px-4 py-2 text-sm cursor-pointer text-[var(--color-secondary)] transition-colors;
    }

    .form-select-option:hover, 
    .form-select-option.active {
        @apply bg-[var(--color-surface)] text-[var(--color-primary)];
    }

    /* Varian Danger untuk Form Control (Merah) */
    .form-control.form-danger {
        @apply bg-red-900/10 border-red-500/50 text-red-200 placeholder-red-400/50;
        @apply focus:border-red-500 focus:ring-red-500 focus:ring-1;
    }

    /* Label khusus danger */
    .label-danger {
        @apply text-red-400;
    }

    /* Style Input Garis Bawah (Underline) */
    .form-underline {
        /* Struktur Dasar */
        @apply w-full bg-transparent text-white px-1 py-2;
        @apply font-mono rounded-none;
        @apply placeholder-gray-600;

        /* Border: Hanya Bawah */
        @apply border-b-2 border-[var(--color-border)];
        @apply border-t-0 border-x-0; /* Pastikan sisi lain tidak ada border */

        /* State Focus: Hapus semua kotak/ring, hanya ganti warna border bawah */
        @apply focus:outline-none; /* INI KUNCINYA: Hapus outline putih browser */
        @apply focus:ring-0;       /* Hapus ring shadow Tailwind */
        @apply focus:border-[var(--color-primary)]; /* Hijau saat aktif */
        
        @apply transition-colors duration-200;
    }
}

/* BAGIAN 3: UTILITIES & ANIMASI CUSTOM */
@layer utilities {
    .text-glow {
        color: rgba(128, 255, 128, 0.8);
        text-shadow:
            0 0 2px rgba(51, 255, 51, 0.6),
            0 0 5px rgba(255, 255, 255, 0.4);
    }

}

/*
| Animasi Kustom
*/
@keyframes scan {
    0% { background-position: 0 -100vh; }
    35%, 100% { background-position: 0 100vh; }
}

.theme-terminal .scan-overlay::before {
    content: "";
    pointer-events: none;
    position: absolute;
    display: block;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    height: 100%;
    background-image: linear-gradient(0deg,
        transparent 0%,
        rgba(32, 128, 32, 0.2) 2%,
        rgba(32, 128, 32, 0.8) 3%,
        rgba(32, 128, 32, 0.2) 3%,
        transparent 100%);
    background-repeat: no-repeat;
    animation: scan 7.5s linear 0s infinite;
}

/*
| Menargetkan iframe di dalam wrapper dan membalikkan warnanya untuk
| membuat teks gelap menjadi putih.
*/
.iframe-wrapper iframe {
    filter: invert(1) grayscale(1) brightness(1.5);
}

/* Keyframes untuk animasi shimmer/shining */
@keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }
  
  /* Kelas utilitas untuk efek-efek teks */
  @layer utilities {
    .text-glow-green {
      text-shadow: 0 0 5px theme('colors.green.500'), 0 0 10px theme('colors.green.700');
    }
    .text-glow-cyan {
      text-shadow: 0 0 5px theme('colors.cyan.500'), 0 0 10px theme('colors.cyan.700');
    }
    .animate-shimmer {
      background-image: linear-gradient(
        90deg,
        theme('colors.amber.400') 0%,
        theme('colors.white') 50%,
        theme('colors.amber.400') 100%
      );
      background-size: 200% 100%;
      animation: shimmer 3s linear infinite;
    }
}

/* Styling untuk Form Checkbox & Radio Bertema */
.form-checkbox-themed {
    @apply appearance-none h-4 w-4 rounded-sm border-2 cursor-pointer align-middle;
    @apply border-[var(--color-border)] bg-[var(--color-surface)];
    @apply focus:ring-2 focus:ring-[var(--color-primary)] focus:ring-offset-2 focus:ring-offset-[var(--color-base)] focus:outline-none;
    @apply transition-all duration-150;

    background-position: center;
    background-repeat: no-repeat;
    background-size: 100% 100%;
}
.form-checkbox-themed:checked {
    @apply bg-[var(--color-primary)] border-[var(--color-primary)];
    background-image: var(--checkbox-icon);
}

.form-radio-themed {
    @apply appearance-none h-4 w-4 rounded-full border-2 cursor-pointer align-middle;
    @apply border-[var(--color-border)] bg-[var(--color-surface)];
    @apply focus:ring-2 focus:ring-[var(--color-primary)] focus:ring-offset-2 focus:ring-offset-[var(--color-base)] focus:outline-none;
    @apply transition-all duration-150;

    background-position: center;
    background-repeat: no-repeat;
    background-size: 100% 100%;
}
.form-radio-themed:checked {
    @apply bg-[var(--color-primary)] border-[var(--color-primary)];
    background-image: var(--radio-icon);
}

/*
| Komponen Tombol Kustom
*/

.btn {
    @apply inline-flex items-center justify-center gap-2 rounded-md px-4 py-2 font-bold tracking-widest transition-colors duration-150 cursor-pointer;
    /* Ukuran responsif: default 'text-sm', tapi di mobile (small screen) 'text-xs' */
    @apply text-xs sm:text-sm;
    /* Mencegah line-break di mobile */
    @apply whitespace-nowrap;
    /* Fokus ring yg tematik */
    @apply focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:ring-offset-2 focus:ring-offset-[var(--color-base)];
}

/* Varian Primary (Solid) */
.btn-primary {
    @apply bg-[var(--color-primary)] border border-transparent;
    color: var(--btn-primary-text); /* [DIUBAH] Pakai variabel */
}
.btn-primary:hover {
    @apply bg-[var(--color-primary-hover)];
    color: var(--btn-primary-text); /* [DIUBAH] Pastikan hover tetap */
}

/* Varian Outline (Border) */
.btn-outline {
    @apply bg-transparent border border-[var(--border-color-primary)];
    color: var(--btn-outline-text); /* [DIUBAH] Pakai variabel */
}
.btn-outline:hover {
    @apply bg-[var(--color-primary)] border border-[var(--border-color-primary)];
    color: var(--btn-primary-text); /* [DIUBAH] Jadi teks solid saat hover */
}

/* Varian Secondary (Subtle) */
.btn-secondary {
    @apply bg-[var(--color-surface-light)] border border-[var(--color-border)];
    color: var(--btn-secondary-text); /* [DIUBAH] Pakai variabel */
}

.btn-secondary:hover {
    @apply bg-[var(--color-border)] text-white;
}

/* [OPSIONAL] Ukuran Kecil (Small) */
.btn-sm {
    @apply px-3 py-1 text-xs;
}